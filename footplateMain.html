<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Footplate Inspection Form</title>
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                font-family: 'Times New Roman', Times, serif;
            }
        
            body {
                background-color: aqua;
                min-height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center;
                background-repeat: no-repeat;
                padding: 20px;
            }
        
            .main {
                width: 100%;
                max-width: 400px;
                background: rgb(245, 242, 242);
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                text-align: center;
            }
        
            .main h3 {
                padding-bottom: 20px;
                font-size: 30px;
                color: #333;
            }
        
            .main form {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
        
            .form-outer {
                width: 100%;
                margin-bottom: 20px;
            }
        
            .form-outer label {
                display: block;
                color: red;
                font-weight: bold;
                margin-bottom: 8px;
                text-align: left;
            }
        
            .form-outer input {
                width: 100%;
                height: 40px;
                padding: 8px;
                background-color: rgb(203, 218, 223);
                border: 1px solid #ccc;
                border-radius: 4px;
                font-size: 16px;
            }
        
            .form-outer button {
                width: 100%;
                padding: 12px;
                background-color: blueviolet;
                color: white;
                font-size: 18px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                transition: background-color 0.3s ease;
            }
        
            .form-outer button:hover {
                background-color: darkviolet;
            }
        
            /* For mobile responsiveness */
            @media (max-width: 600px) {
                .main {
                    padding: 15px;
                    width: 100%;
                    max-width: 100%;
                }
        
                .form-outer input,
                .form-outer button {
                    height: 45px;
                    font-size: 16px;
                }
        
                .main h3 {
                    font-size: 26px;
                }
        
                .form-outer label {
                    font-size: 14px;
                }
            }
        
            .dropbtn {
                background-color: #04AA6D;
                color: white;
                padding: 16px;
                font-size: 16px;
                border: none;
                cursor: pointer;
            }
        </style>
        
        
</head>
<body>
    <div class="container">
        <h2>Footplate Inspection Form</h2>
        <form id="inspectionForm">
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">CMS ID<b style="color: blue;">**Enter last digits of CLI CMS ID Only,ex if CLI CMS ID is BSL0048 enter only 48,ex if CLI CMS ID is BSL0106 enter only 106**</b></p></label>
                <input type="number" name="inspectionid" id="inspectionid" required>
            </div>

            <!-- <div class="form-outer">
                <label style="color: red; font-weight: bold;">Inspection Date</label>
                <input type="date" name="inspectiondate" id="inspectiondate" required >
            </div> -->
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">Inspection Date</label>
                <input type="date" name="inspectiondate" id="inspectiondate" required min="" max=""> 
                       
            </div>
            
            <script>
                // Set today's date as the max value
                let today = new Date();
                let yesterday = new Date(today);
                yesterday.setDate(today.getDate() - 1); // Set to yesterday
            
                // Format date to yyyy-mm-dd
                function formatDate(date) {
                    return date.toISOString().split('T')[0];
                }
            
                // Set the min and max attributes
                document.getElementById('inspectiondate').min = formatDate(yesterday);
                document.getElementById('inspectiondate').max = formatDate(today);
            </script>
            
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">CLI Name</label>
                <input type="text" name="cliname" id="cliname" required readonly>
            </div>
            <br>
            <div class="justify-content">
            <label style="color: red; font-weight: bold;">Select LP Nominated Or Other</label>
            <div class="container">
                <label for="nomi" class="radio-inline">NOMINATED
                    <input type="radio" id="nomi" name="selectlp" value="NOMINATED">
                </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <label for="other" class="radio-inline">OTHER
                    <input type="radio" id="other" name="selectlp" value="OTHER" checked>
                </label>
            </div> <br>  
            </div>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">LP CMS ID</label>
                <input type="text" name="lpcmsid" id="lpcmsid">
            </div>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">LP Name</label>
                <input type="text" name="lpname" id="lpname" >
            </div>
            <div class="form-outer">
                <div>
                    <label for="lptype">LP Designation</label>
                    <div class="form-outer">
                        <select name="lptype" id="lptype">
                            <option value="">select</option>
                            <option value="LPG">LPG</option>
                            <option value="LPM">LPM</option>
                            <option value="LPP">LPP</option>
                            <option value="LPS">LPS</option>
                        </select>
                    </div> 
                </div>
            </div>
            <div class="form-outer">
                <div>
                    <label for="lpcat">LP CAT</label>
                    <select name="lpcat" id="lpcat">
                        <option value="">select</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                    </select> 
                </div>
            </div>
            <div class="form-outer">
                <div>
                    <label for="lphq">LP HQ</label>
                    <select name="lphq" id="lphq">
                        <option value="">select</option>
                        <option value="BSL">BSL</option>
                        <option value="BSLX">BSLX</option>
                        <option value="BD">BD</option>
                        <option value="NGN">NGN</option>
                        <option value="KNW">KNW</option>
                        <option value="IGPX">IGPX</option>
                        <option value="MMR">MMR</option>
                        <option value="CSMT">CSMT</option>
                        <option value="PA">PA</option>
                        <option value="UDN">UDN</option>
                        <option value="NDB">NDB</option>
                        <option value="BPL">BPL</option>
                        <option value="ET">ET</option>
                        <option value="NGP">NGP</option>
                        <option value="BPQ">BPQ</option>
                        <option value="SUR">SUR</option>
                        <option value="PB">PB</option>
                        <option value="JL">JL</option>
                        <option value="JM">JM</option>
                    </select> 
                </div>
            </div>

            <!-- <div class="form-outer">
                <label style="color: red; font-weight: bold;">LP HQ</label>
                <input type="text" name="lphq" id="lphq" >
            </div> -->
            
            <div class="justify-content">
                <label style="color: red; font-weight: bold;">Select ALP Nominated Or Other</label><br><br>
                <div class="container">
                    <label for="nomi" class="radio-inline">NOMINATED
                    <input type="radio" id="nomi" name="selectalp" value="NOMINATED">
                    </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    <label for="other" class="radio-inline">OTHER
                    <input type="radio" id="other" name="selectalp" value="OTHER">
                    </label>
                </div>   
            </div><br>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">ALP CMS ID</label>
                <input type="text" name="alpcmsid" id="alpcmsid">
            </div>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">ALP Name</label>
                <input type="text" name="alpname" id="alpname">
            </div><br>
            <div class="form-outer">
                <div>
                    <label for="alpdesg">ALP DESG</label>
                    <div>
                        <select name="alpdesg" id="alpdesg">
                            <option value="">select</option>
                            <option value="ALP">ALP</option>
                            <option value="SALP">SALP</option>
                            <option value="COLP">COLP</option>
                        </select> 
                    </div> 
                </div>
            </div>
            <div class="form-outer">
                <div>
                    <label for="alphq">LP HQ</label>
                    <select name="alphq" id="alphq">
                        <option value="">select</option>
                        <option value="BSL">BSL</option>
                        <option value="BSLX">BSLX</option>
                        <option value="BD">BD</option>
                        <option value="NGN">NGN</option>
                        <option value="KNW">KNW</option>
                        <option value="IGPX">IGPX</option>
                        <option value="MMR">MMR</option>
                        <option value="CSMT">CSMT</option>
                        <option value="PA">PA</option>
                        <option value="UDN">UDN</option>
                        <option value="NDB">NDB</option>
                        <option value="BPL">BPL</option>
                        <option value="ET">ET</option>
                        <option value="NGP">NGP</option>
                        <option value="BPQ">BPQ</option>
                        <option value="SUR">SUR</option>
                        <option value="PB">PB</option>
                        <option value="JL">JL</option>
                        <option value="JM">JM</option>
                    </select> 
                </div>
            </div>
            <!-- <div class="form-outer">
                <label style="color: red; font-weight: bold;">ALP HQ</label>
                <input type="text" name="alphq" id="alphq">
            </div> -->
            <div class="form-outer">
                <label for="trainNumber" style="color: red; font-weight: bold;">Train Number:</label>
                <input type="text" name="trainNumber" id="trainNumber" placeholder="Enter train number" class="uppercase" 
                    oninput="checkInput()">
            </div>
            
            <script>
                function checkInput() {
                    // Get the value of the input field
                    const inputValue = document.getElementById('trainNumber').value.toUpperCase();
            
                    // Check for restricted words
                    const restrictedWords = ['REST', 'LEAVE', 'COUNSELLING', 'WAITING DUTY'];
            
                    // If any of the restricted words are found
                    if (restrictedWords.some(word => inputValue.includes(word))) {
                        // Display alert
                        alert("Do not enter 'leave', 'rest', 'lobby counselling','WAITING DUTY' in the Train Number field. Fill IT in the remark.");
            
                        // Speak the message in Hindi
                        const speech = new SpeechSynthesisUtterance('TNO में "LEAVE", "REST", "COUNSELLING" या "WAITING DUTY" शब्द नहीं भरें। टिप्पणी में भरे।');
                        speech.lang = 'hi-IN';  // Set language to Hindi
                        window.speechSynthesis.speak(speech);
                    }
                }
            </script>
            
            
            <div class="form-outer">
                <label for="trainLoad" style="color: red; font-weight: bold;">Train Load (in Tonn):</label>
                <input type="number" name="trainLoad" id="trainLoad" placeholder="Enter train load">
            </div>
            
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">Loco No</label>
                <input type="text" name="locono">
            </div>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;">Select Whether BMBS% Less Than 50%</label><br><br>
                    <div class="container">
                        <label for="YES" class="radio-inline">YES
                            <input type="radio" id="bmbsyes" name="selectbmbs" value="YES">
                        </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                        <label for="NO" class="radio-inline">NO
                            <input type="radio" id="bmbsno" name="selectbmbs" value="NO">
                        </label><br><br>
                    </div>   
            </div>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">From Station<p><b style="color: blue;">**Enter Station Code Only**</b></p></label>
                <input type="text" name="fromstation" id="fromstation" oninput="upperCase()" class="uppercase" required>
            </div>
            <div class="container">
                <label for="startTime" style="color: red; font-weight: bold;">Departure Date And Time (HH:MM):</label>
                <input type="datetime-local" id="startTime" name="startTime" required>
            </div><br>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">To Station<p style="color: blue;"><b>**Enter Station Code Only**</b></p></label>
                <input type="text" name="tostation" id="tostation"  class="uppercase" required>
            </div>
            <div class="container">
                <label for="endTime" style="color: red; font-weight: bold;">Arrival Date And Time (HH:MM):</label>
                <input type="datetime-local" id="endTime" name="endTime" required>
            </div><br>
            <script>
                const startTimeInput1 = document.getElementById('startTime');
                const endTimeInput1 = document.getElementById('endTime');
                
                endTimeInput1.addEventListener('change', function() {
                    const startTime = new Date(startTimeInput1.value);
                    const endTime = new Date(endTimeInput1.value);
                    
                    if (startTime && endTime && endTime <= startTime) {
                        alert('End time cannot be less than or equal to start time. Please select a NEXT date.');
                        endTimeInput1.value = ''; // Clear the invalid end time input
                    }
                });
            </script>
            <div class="form-outer">
                <label for="signalcallinglp" style="color: red; font-weight: bold;">Signal Calling By LP</label>
                <select name="sigcalllp" id="sigcalllp" onchange="if (this.value === 'POOR') { alert('You have selected POOR option, it will be considered as irregularity.'); }">
                    <option value="select">-------Select Signal Calling By Loco Pilot-------</option>
                    <option value="GOOD">GOOD(WITH HAND GESTURE)</option>
                    <option value="AVERAGE">AVERAGE(WITHOUT HAND GESTURE)</option>
                    <option value="POOR">POOR(NOT CALLING)</option>
                </select>
            </div>
            <!-- <div class="form-outer">
                <label for="signalcallinglp" style="color: red; font-weight: bold;">Signal Caling By LP</label>
                <select name="sigcalllp" id="sigcalllp">
                    <option value="select">-------Select Signal Calling By Loco Pilot-------</option>
                    <option value="GOOD">GOOD(WITH HAND GESTURE)</option>
                    <option value="AVERAGE">AVERAGE(WITHOUT HAND GESTURE)</option>
                    <option value="POOR">POOR(NOT CALLING)</option>
                </select>
            </div> -->
            <br>
            <div class="form-outer">
                <label for="signalcallingalp" style="color: red; font-weight: bold;">Signal Caling By ALP</label>
                <select name="sigcallalp" id="sigcallalp" onchange="if (this.value === 'POOR') { alert('You have selected POOR option, it will be considered as irregularity.'); }" >
                    <option value="select">-------Select Signal Calling By Assistant Loco Pilot-------</option>
                    <option value="GOOD">GOOD(WITH HAND GESTURE)</option>
                    <option value="AVERAGE">AVERAGE(WITHOUT HAND GESTURE)</option>
                    <option value="POOR">POOR(NOT CALLING)</option>
                </select>
            </div>
            <br>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;" style="color: red; font-weight: bold;">Signal Exchange By ALP</label><br><br>
                <div class="container">
                    <label for="YES" class="radio-inline">YES
                        <input type="radio" id="yes" name="sigexchange" value="YES">
                    </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    <label for="NO" class="radio-inline">NO
                        <input type="radio" id="no" name="sigexchange" value="NO" onchange="if (this.value === 'NO') { alert('You have selected NO option, it will be considered as irregularity.'); }" >
                    </label><br><br>
                </div>   
            </div>
            <br>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;" style="color: red; font-weight: bold;">BFT/BPT</label><br><br>
                <div class="container">
                    <label for="YES" class="radio-inline">YES
                        <input type="radio" id="yes" name="bftbpt" value="YES">
                    </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    <label for="NO" class="radio-inline">NO
                        <input type="radio" id="no" name="bftbpt" value="NO" onchange="if (this.value === 'NO') { alert('You have selected NO option, it will be considered as irregularity.'); }">
                    </label><br><br>
                </div>   
            </div>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;" style="color: red; font-weight: bold;">Observe Caution Order</label><br><br>
                <div class="container">
                    <label for="YES" class="radio-inline">YES
                        <input type="radio" id="yes" name="observeco" value="YES">
                    </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    <label for="NO" class="radio-inline">NO
                        <input type="radio" id="no" name="observeco" value="NO" onchange="if (this.value === 'NO') { alert('You have selected NO option, it will be considered as irregularity.'); }">
                    </label><br><br>
                </div>   
            </div>
            <br>
            <div class="form-outer">
                <label for="knowledge" style="color: red; font-weight: bold;">Knowledge-->Loco Pilot</label>
                <select name="knowledgelp" id="knowledgelp" onchange="if (this.value === 'POOR') { alert('You have selected POOR option, it will be considered as irregularity.'); }">
                    <option value="select">-------Select Knowledge Of Loco Pilot-------</option>
                    <option value="GOOD">GOOD</option>
                    <option value="AVERAGE">AVERAGE</option>
                    <option value="POOR">POOR</option>
                </select>
            </div>
            <br>
            <div class="form-outer">
                <label for="knowledge" style="color: red; font-weight: bold;">Knowledge-->Assistant Loco Pilot</label>
                <select name="knowledgealp" id="knowledgealp"  onchange="if (this.value === 'POOR') { alert('You have selected POOR option, it will be considered as irregularity.'); }">
                    <option value="select">-------Select Knowledge Of Assistant Loco Pilot-------</option>
                    <option value="GOOD">GOOD</option>
                    <option value="AVERAGE">AVERAGE</option>
                    <option value="POOR">POOR</option>
                </select>
            </div>
            <br>
            <div class="form-outer">
                <label for="knowledge" style="color: red; font-weight: bold;">Mobile</label>
                <select name="mobile" id="mobile" onchange="handleSelectionChange(this)">
                    <option value="select">-------Select Mobile Condition Of Crew-------</option>
                    <option value="OFF">OFF(Both)</option>
                    <option value="LPON">LP ON And ALP OFF</option>
                    <option value="ALPON">ALP ON And LP OFF</option>
                    <option value="ON">ON(Both)</option>
                </select>
            </div>
            
            <script>
                function handleSelectionChange(selectElement) {
                    var value = selectElement.value;
                    if (value === 'LPON') {
                        alert('You have selected LPON option, it will be considered as irregularity.');
                    } else if (value === 'ALPON') {
                        alert('You have selected ALPON option, it will be considered as irregularity.');
                    } else if (value === 'ON') {
                        alert('You have selected ON option, it will be considered as irregularity.');
                    }
                }
            </script>
            
            <br>
            <div class="form-outer">
                <label for="whistling" style="color: red; font-weight: bold;">Whisteling By ALP</label>
                <select name="whistling" id="whistling" onchange="if (this.value === 'POOR') { alert('You have selected POOR option, it will be considered as irregularity.'); }">
                    <option value="select">-------Select Whisteling By Assistant Loco Pilot-------</option>
                    <option value="GOOD">GOOD</option>
                    <option value="AVERAGE">AVERAGE</option>
                    <option value="POOR">POOR</option>
                </select>
            </div>
            <br>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;" style="color: red; font-weight: bold;">Loco Checking</label><br><br>
                <div class="container">
                    <label for="YES" class="radio-inline">YES
                        <input type="radio" id="yes" name="lococheck" value="YES">
                    </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    <label for="NO" class="radio-inline">NO
                        <input type="radio" id="on" name="lococheck" value="NO" onchange="if (this.value === 'NO') { alert('You have selected NO option, it will be considered as irregularity.'); }">
                    </label><br><br>
                </div>   
            </div>
            <br>
            <div class="form-outer">
                <label for="speedy" style="color: red; font-weight: bold;">Speed At One Yellow</label>
                <select name="speedy" id="speedy" onchange="checkIrregularity(this)">
                    <option value="select">-------Select Speed-------</option>
                    <option value="BELOW30">BELOW 30</option>
                    <option value="30 - 40">30 - 40</option>
                    <option value="40 - 50">40 - 50</option>
                    <option value="ABOVE50">ABOVE 50</option>
                </select>
            </div>
            <br>
            <script>
    // Function to check the conditions and alert if irregularity occurs
    function checkIrregularity() {
        var coachChecked = document.getElementById('coach').checked;
        var goodsChecked = document.getElementById('goods').checked;
        var speedSelected = document.getElementById('speedy').value;

        // Check for irregularities
        if ((goodsChecked && (speedSelected === '40 - 50' || speedSelected === 'ABOVE50')) ||
            (coachChecked && (speedSelected === 'ABOVE50'))) {
            alert("This will be considered as an irregularity.");
        }
    }

    // Event listeners for the radio buttons and the speed dropdown
    document.getElementById('coach').addEventListener('change', checkIrregularity);
    document.getElementById('goods').addEventListener('change', checkIrregularity);
    document.getElementById('speedy').addEventListener('change', checkIrregularity);
</script>
            
            <div class="justify-content">
                <label style="color: red; font-weight: bold;">ALP Hand On RS</label><br><br>
                <div class="container">
                    <label for="YES" class="radio-inline">YES
                        <input type="radio" id="yes" name="handrs" value="YES">
                    </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    <label for="NO" class="radio-inline">NO
                        <input type="radio" id="on" name="handrs" value="NO" onchange="if (this.value === 'NO') { alert('You have selected NO option, it will be considered as irregularity.'); }">
                    </label><br><br>
                </div>   
            </div>
            <br>
           <div class="form-outer">
    <label for="luggage" style="color: red; font-weight: bold;">Luggage Packing</label>
    <select name="luggage" id="luggage" onchange="handleSelectionChangeLuggage(this)">
        <option value="select">-------Select Luggage Packing-------</option>
        <option value="NO">NO</option>
        <option value="ALP LUGGAGE PACKING">ALP LUGGAGE PACKING</option>
        <option value="LP LUGGAGE PACKING">LP LUGGAGE PACKING</option>
        <option value="YES">YES BOTH LUGGAGE PACKING</option>
    </select>
</div>
<br>
<script>
    function handleSelectionChangeLuggage(selectElement) {
        var value = selectElement.value;
        if (value === 'ALP LUGGAGE PACKING') {
            alert('You have selected ALP LUGGAGE PACKING option, it will be considered as irregularity.');
        } else if (value === 'LP LUGGAGE PACKING') {
            alert('You have selected LP LUGGAGE PACKING option, it will be considered as irregularity.');
        } else if (value === 'YES') {
            alert('You have selected YES option, it will be considered as irregularity.');
        }
    }
</script>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">LP Due Date</label>
                <input type="date" name="lpduedate" id="lpduedate" readonly>
            </div>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;">COACHING/GOODS</label><br><br>
                <div class="container">
                    <label for="COACHING" class="radio-inline">COACHING
                    <input type="radio" id="coach" name="coachgd" value="COACHING">
                    </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    <label for="GOODS" class="radio-inline">GOODS
                    <input type="radio" id="goods" name="coachgd" value="GOODS">
                    </label><br><br>
                </div>   
            </div>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;">LOADED/EMPTY</label><br><br>
                <div class="container">
                    <label for="loaded" class="radio-inline">LOADED
                    <input type="radio" id="load" name="loademp" value="LOADED">
                    </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    <label for="empty" class="radio-inline">EMPTY
                    <input type="radio" id="empty" name="loademp" value="EMPTY">
                    </label><br><br>
                </div>   
            </div>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;">DAY/NIGHT</label><br><br>
                    <div class="container">
                        <label for="day" class="radio-inline">DAY
                            <input type="radio" id="day" name="dynt" value="DAY">
                        </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                        <label for="night" class="radio-inline">NIGHT
                            <input type="radio" id="night" name="dynt" value="NIGHT">
                        </label><br><br>
                    </div>   
            </div>
           
            <p style="text-align: center; font-weight: bolder;">---------------------------------------------------</p><br>
            <h2>Ambush Check In Lobby</h2>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">Speed Gun</label>
                <input type="number" name="speedgun" id="speedgun" >
            </div>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">No Of Random BA Test</label>
                <input type="number" name="ba" id="ba">
            </div>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">Vulnerable Signal/Lay Out</label>
                <input type="number" name="vsiglayout" id="vsiglayout">
            </div>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">Yard Layout</label>
                <input type="number" name="ylayout" id="ylayout">
            </div>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;">C/O Acknowledge</label><br><br>
                <div class="container">
                    <label for="irregularityYes" class="radio-inline">YES
                        <input type="radio" id="coyes" name="coack" value="YES">
                    </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <label for="irregularityNo" class="radio-inline">NO
                        <input type="radio" id="cono" name="coack" value="NO" onchange="if (this.value === 'NO') { alert('You have selected NO option, it will be considered as irregularity.'); }">
                    </label><br><br>
                </div>   
            </div>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;">Late Sign ON/OFF</label><br><br>
                <div class="container">
                    <label for="irregularityYes" class="radio-inline">YES
                        <input type="radio" id="signonoff" name="signonoff" value="YES" onchange="if (this.value === 'YES') { alert('You have selected YES option, it will be considered as irregularity.'); }">
                    </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <label for="irregularityNo" class="radio-inline">NO
                        <input type="radio" id="signonoff" name="signonoff" value="NO">
                    </label><br><br>
                </div>   
            </div>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">Lobby RS Flap Valve</label>
                <input type="text" name="rs" id="rs">
            </div>
            <p style="text-align: center; font-weight: bolder;">---------------------------------------------------</p><br>
            <h2>Check In Yard</h2>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;">Shunting</label><br><br>
                <div class="container">
                    <label for="irregularityYes" class="radio-inline">PROPER
                        <input type="radio" id="shuntingy" name="shunting" value="PROPER">
                    </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <label for="irregularityNo" class="radio-inline">NOT PROPER
                        <input type="radio" id="shuntingn" name="shunting" value="NOT PROPER" onchange="if (this.value === 'NOT PROPER') { alert('You have selected NOT PROPER option, it will be considered as irregularity.'); }">
                    </label><br><br>
                </div>   
            </div>
            <div class="justify-content">
                <label style="color: red; font-weight: bold;">Loco Stabling,T/S,Stn</label><br><br>
                <div class="container">
                    <label for="irregularityYes" class="radio-inline">PROPER
                        <input type="radio" id="lstby" name="lstb" value="PROPER">
                    </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <label for="irregularityNo" class="radio-inline">NOT PROPER
                        <input type="radio" id="lstbn" name="lstb" value="NOT PROPER" onchange="if (this.value === 'NOT PROPER') { alert('You have selected NOT PROPER option, it will be considered as irregularity.'); }">
                    </label><br><br>
                </div>   
            </div>
            <div class="form-outer">
                <label style="color: red; font-weight: bold;">REMARK</label>
                <input type="text" name="remark" id="remark">
            </div>
             <div class="justify-content">
                <label style="color: red; font-weight: bold;">Select SAFETY DRIVE</label>
                <div class="container">
                    <label for="sd1" class="radio-inline">07/2025
                        <input type="checkbox" id="sd1" name="sd1" value="07/2025">
                    </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                   <label for="sd2" class="radio-inline">08/2025
                        <input type="checkbox" id="sd2" name="sd2" value="08/2025">
                    </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                   <label for="sd3" class="radio-inline">06/2025
                           <input type="checkbox" id="sd3" name="sd3" value="06/2025">
                    </label><br> <br><br>
                    <a href="https://drive.google.com/file/d/1TCSJbD3t5jGWQPC22A3UXDYbkBQ_WCIo/view?usp=sharing">***Click Here To View PDF of Safety Drive-07/2025***</a><br><br>
                    <a href="https://drive.google.com/file/d/1jd0Lqw7-MgVblFP2x3Shc95FP4A4ec9Y/view?usp=sharing">***Click Here To View PDF of Safety Drive-08/2025***</a><br><br>
                    <a href="https://drive.google.com/file/d/1qQ5Rfe3nUjaTvmbJ_1XGT2TeRJquNyFK/view?usp=sharing">***Click Here To View PDF of Safety Drive-06/2025***</a>
                </div> <br>  
                </div>
                <div class="justify-content">
                    <label style="color: red; font-weight: bold;">Select GI</label>
                    <div class="container">
                        <label for="gi1" class="radio-inline">04/2025
                            <input type="checkbox" id="gi1" name="gi1" value="04/2025">
                        </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <label for="gi2" class="radio-inline">05/2025
                            <input type="checkbox" id="gi2" name="gi2" value="05/2025">
                        </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <label for="gi3" class="radio-inline">06/2025
                            <input type="checkbox" id="gi3" name="gi3" value="06/2025">
                        </label><br><br>
                        <a href="https://drive.google.com/file/d/11Juz8wv_fzGX3CJ3PxXRDnZKnXqecD_J/view?usp=sharing">***Click Here To View PDF of GI-04/2025***</a><br><br>
                        <a href="https://drive.google.com/file/d/1L5XQXu_TclclT0k2R-OzjFXas8NNWA6h/view?usp=sharing">***Click Here To View PDF of GI-05/2025***</a><br><br>
                        <a href="https://drive.google.com/file/d/1GrFy3we0WarDKzsoauR4cAOPGJQPLfCv/view?usp=sharing">***Click Here To View PDF of GI-06/2025***</a>
                    </div> <br> 
                    </div> 
             <div class="justify-content">
            <label style="color: red; font-weight: bold;">Select CASE STUDY</label>
            <div class="container">
                <label for="cs1" class="radio-inline">04/2025
                    <input type="checkbox" id="cs1" name="cs1" value="04/2025">
                </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                 <label for="cs2" class="radio-inline">02/2025
                    <input type="checkbox" id="cs2" name="cs2" value="02/2025">
                </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
               <label for="cs3" class="radio-inline">03/2025
                    <input type="checkbox" id="cs3" name="cs3" value="03/2025">
                </label><br><br>
                <a href="https://drive.google.com/file/d/1QLVZnO9eFGm8Ll7g-hHbhM2fnOpXv8vm/view?usp=sharing">***Click Here To View PDF Case Study-04/2025***</a><br><br>
                <a href="https://drive.google.com/file/d/1TS8sylzc4JEHZ-7gc879MJvxIsFYfYQ-/view?usp=sharing">***Click Here To View PDF Case Study-02/2025***</a><br><br>
                <a href="https://drive.google.com/file/d/1ulzc2jNQr7akvsKGSt107Ks1rK_r5SRe/view?usp=sharing">***Click Here To View PDF Case Study-03/2025***</a><br>
                
            </div> <br>  
            <div class ="form-outer">
                <input type="submit" id="sub" style="background: #140149;color: rgb(247, 243, 243); height: 70px; font-size: x-large;">
            </div>
            
        </form>
    </div>
    
    <script>
        const sheetID = '1bGIcj3rrwJANyo3LOgiYxvXtjLmA_jLb3j2Ol0Mtd08'; // Your sheet ID
        const apiKey = 'AIzaSyBG5Y_6PX9WT-0Mu5-Wv8Z9hA6ATF3TqR0'; // Your API key
        const dataRange = 'Sheet1!A2:K860'; // Range for Inspection ID, CLI Name, LP Name, ALP Name, LP Type, LP Category, LP HQ, ALP HQ
        
        // Construct the URL for the Google Sheets API
        const sheetURL = `https://sheets.googleapis.com/v4/spreadsheets/${sheetID}/values/${dataRange}?key=${apiKey}`;
        
        // Function to fetch data from Google Sheets
        function fetchSheetData() {
            fetch(sheetURL)
                .then(response => response.json())
                .then(data => {
                    const rows = data.values;
                    // Store the sheet data for later use
                    window.sheetData = rows;
                    populateNames(); // Populate LP and ALP names after data is fetched
                })
                .catch(error => console.error('Error fetching data from Google Sheets:', error));
        }
        
        // Function to populate the LP and ALP names into the datalist
        // function populateNames() {
        //     const lpNames = document.getElementById('lpnames');
        //     const alpNames = document.getElementById('alpnames');
        
        //     // Clear existing options
        //     lpNames.innerHTML = '';
        //     alpNames.innerHTML = '';
        
        //     // Loop through the rows and add LP and ALP names to the datalists
        //     window.sheetData.forEach(row => {
        //         const lpOption = document.createElement('option');
        //         lpOption.value = row[2]; // LP Name is in the 3rd column (C)
        //         lpNames.appendChild(lpOption);
        
        //         const alpOption = document.createElement('option');
        //         alpOption.value = row[6]; // ALP Name is in the 7th column (G)
        //         alpNames.appendChild(alpOption);
        //     });
        // }
        
        // Function to auto-fill details based on the entered LP CMS ID
        function autoFillLPDetails() {
    const lpcmsid = document.getElementById('lpcmsid').value;
    if (!lpcmsid) return; // Exit if no LP CMS ID is entered

    // Find the row that matches the LP CMS ID (assumed to be in the first column)
    const matchingRow = window.sheetData?.find(row => row[2] == lpcmsid);

    if (matchingRow) {
        // Auto-fill LP Name (third column in Google Sheet)
        document.getElementById('lpname').value = matchingRow[3];

        // Auto-select LP Type (fourth column in Google Sheet)
        const lpType = matchingRow[4];
        const lpTypeSelect = document.getElementById('lptype');
        for (let i = 0; i < lpTypeSelect.options.length; i++) {
            if (lpTypeSelect.options[i].value === lpType) {
                lpTypeSelect.selectedIndex = i;
                break;
            }
        }

        // Auto-select LP Category (fifth column in Google Sheet)
        const lpCategory = matchingRow[5];
        const lpCatSelect = document.getElementById('lpcat');
        for (let i = 0; i < lpCatSelect.options.length; i++) {
            if (lpCatSelect.options[i].value === lpCategory) {
                lpCatSelect.selectedIndex = i;
                break;
            }
        }


        // Auto-select LP HQ (fifth column in Google Sheet)
        const lpHQ = matchingRow[6];
        const lpHQSelect = document.getElementById('lphq');
        for (let i = 0; i < lpHQSelect.options.length; i++) {
            if (lpHQSelect.options[i].value === lpHQ) {
                lpHQSelect.selectedIndex = i;
                break;
            }
        }
        // Auto-fill LP HQ (sixth column in Google Sheet)
       // document.getElementById('lphq').value = matchingRow[6];

        // Automatically update the due date if LP Category is available
        setDueDate();
    } else {
        clearLPFields(); // Clear fields if no match
    }
}

// Function to auto-fill ALP details based on the entered ALP CMS ID
function autoFillALPDetails() {
    const alpcmsid = document.getElementById('alpcmsid').value;
    if (!alpcmsid) return; // Exit if no ALP CMS ID is entered

    // Find the row that matches the ALP CMS ID (assumed to be in the seventh column)
    const matchingRow = window.sheetData?.find(row => row[2] == alpcmsid);

    if (matchingRow) {
        // Auto-fill ALP Name (eighth column in Google Sheet)
        document.getElementById('alpname').value = matchingRow[3];

        // Auto-select ALP Designation (ninth column in Google Sheet)
        const alpDesg = matchingRow[4];
        const alpDesgSelect = document.getElementById('alpdesg');
        for (let i = 0; i < alpDesgSelect.options.length; i++) {
            if (alpDesgSelect.options[i].value === alpDesg) {
                alpDesgSelect.selectedIndex = i;
                break;
            }
        }

         // Auto-select ALP Designation (ninth column in Google Sheet)
         const alpHQ = matchingRow[6];
        const alpHQSelect = document.getElementById('alphq');
        for (let i = 0; i < alpHQSelect.options.length; i++) {
            if (alpHQSelect.options[i].value === alpHQ) {
                alpHQSelect.selectedIndex = i;
                break;
            }
        }
        // Auto-fill ALP HQ (tenth column in Google Sheet)
        //document.getElementById('alphq').value = matchingRow[10];
    } else {
        clearALPFields(); // Clear fields if no match
    }
}
        
        // Clear LP fields
        function clearLPFields() {
            document.getElementById('lpname').value = '';
            document.getElementById('lptype').value = '';
            document.getElementById('lpcat').value = '';
            document.getElementById('lphq').value = '';
        }
        
        // Clear ALP fields
        function clearALPFields() {
            document.getElementById('alpname').value = '';
            document.getElementById('alpdesg').value = '';
            document.getElementById('alphq').value = '';
        }
        
        // Function to auto-fill CLI Name and today's date based on the entered Inspection ID
        function autoFillDetails() {
            const inspectionID = document.getElementById('inspectionid').value;
            if (!inspectionID) return; // Exit if no Inspection ID is entered
        
            // Find the row that matches the Inspection ID
            const matchingRow = window.sheetData?.find(row => row[0] == inspectionID); // Inspection ID is in the first column
        
            if (matchingRow) {
                // Auto-fill CLI Name (second column in Google Sheet)
                document.getElementById('cliname').value = matchingRow[1];
        
                // Set today's date in the Inspection Date field
                // const today = new Date().toISOString().split('T')[0]; // Format as YYYY-MM-DD
                // document.getElementById('inspectiondate').value = today;
            } else {
                // Optional: alert('Inspection ID not found!');
                // Or clear relevant fields if needed
            }
        }
        
        // Event listeners to auto-fill data when relevant IDs are entered
        document.getElementById('lpcmsid').addEventListener('input', autoFillLPDetails);
        document.getElementById('alpcmsid').addEventListener('input', autoFillALPDetails);
        document.getElementById('inspectionid').addEventListener('input', autoFillDetails);
        
        // Auto-check Coaching or Goods based on train number
        document.getElementById('trainNumber').addEventListener('input', function() {
            const trainNumber = document.getElementById('trainNumber').value;
            const isNumeric = /^[0-9]+$/.test(trainNumber);
            
            if (isNumeric) {
                document.getElementById('coach').checked = true;  // Auto-check COACHING
                document.getElementById('goods').checked = false;
            } else {
                document.getElementById('goods').checked = true;  // Auto-check GOODS
                document.getElementById('coach').checked = false;
            }
        });
        
        // Auto-check Loaded or Empty based on train load
        document.getElementById('trainLoad').addEventListener('input', function() {
            const trainLoad = parseFloat(document.getElementById('trainLoad').value);
            
            if (trainLoad > 1500) {
                document.getElementById('load').checked = true;  // Auto-check LOADED
                document.getElementById('empty').checked = false;
            } else {
                document.getElementById('empty').checked = true;  // Auto-check EMPTY
                document.getElementById('load').checked = false;
            }
        });
        
        // Function to calculate and set due date based on inspection date and LP category
        function setDueDate() {
            const inspectionDate = document.getElementById('inspectiondate').value;
            const nominated = document.getElementById('nomi').checked;
            const lpCategory = document.getElementById('lpcat').value;
        
            console.log('Inspection Date:', inspectionDate);  // Log inspection date
            console.log('LP Category:', lpCategory);  // Log LP category
            console.log('Is Nominated:', nominated);  // Log nominated status
        
            // Ensure the inspection date is valid
            if (!inspectionDate) {
                console.log('Inspection Date is empty. Cannot set due date.');
                return;  // If inspection date is empty, do nothing
            }
        
            if (!lpCategory) {
                console.log('LP Category is not selected.');
                return;  // If LP category is not selected, do nothing
            }
        
            const date = new Date(inspectionDate);
        
            if (nominated) {
                // Apply logic based on LP category
                if (lpCategory === 'A') {
                    console.log('LP Category A: Adding 2 months');
                    date.setMonth(date.getMonth() + 2);  // Set due date 2 months after inspection date
                } else if (lpCategory === 'B') {
                    console.log('LP Category B: Adding 1 month');
                    date.setMonth(date.getMonth() + 1);  // Set due date 1 month after inspection date
                } else if (lpCategory === 'C') {
                    console.log('LP Category C: Adding 15 days');
                    date.setDate(date.getDate() + 15);  // Set due date 15 days after inspection date
                }
        
                // Format date to YYYY-MM-DD
                const dueDate = date.toISOString().split('T')[0];
                console.log('Calculated Due Date:', dueDate);  // Log the due date
        
                document.getElementById('lpduedate').value = dueDate;  // Set the due date in the field
            }
        }
        
        // Event listeners for LP selection and LP category
        document.querySelectorAll('input[name="selectlp"]').forEach(function(radio) {
            radio.addEventListener('change', function() {
                console.log('LP Selection Changed');
                setDueDate();  // Update due date when LP is selected
            });
        });
        
        // Event listener for LP category selection change
        document.getElementById('lpcat').addEventListener('input', function() {
            console.log('LP Category Changed');
            setDueDate();  // Update due date when LP category is changed
        });
        
        // Event listener for inspection date change
        document.getElementById('inspectiondate').addEventListener('change', function() {
            console.log('Inspection Date Changed');
            setDueDate();  // Update due date when inspection date is changed
        });
        
        // Auto-check Day or Night based on time input
        const startTimeInput = document.getElementById('startTime');
    const endTimeInput = document.getElementById('endTime');
    
    endTimeInput.addEventListener('change', function() {
        const startTime = new Date(startTimeInput.value);
        const endTime = new Date(endTimeInput.value);
        
        if (startTime && endTime && endTime <= startTime) {
            alert('End time cannot be less than or equal to start time. Please select a NEXT date.');
            endTimeInput.value = ''; // Clear the invalid end time input
        }

        // Call the auto-checking function when end time changes
        checkDayNight();
    });

    document.querySelectorAll('input[type="datetime-local"]').forEach(function(input) {
        input.addEventListener('input', checkDayNight);
    });

    function checkDayNight() {
        const startTime = startTimeInput.value;
        const endTime = endTimeInput.value;

        const isNight = (time) => {
            const [datePart, timePart] = time.split('T');
            const [hours] = timePart.split(':').map(n => parseInt(n, 10));
            return hours >= 22 || hours < 6;
        };

        if (startTime && isNight(startTime)) {
            document.getElementById('night').checked = true;  // Auto-check NIGHT
            document.getElementById('day').checked = false;
        } else {
            document.getElementById('day').checked = true;    // Auto-check DAY
            document.getElementById('night').checked = false;
        }

        // Check end time if start time is not selected
        if (endTime && isNight(endTime)) {
            document.getElementById('night').checked = true;
            document.getElementById('day').checked = false;
        } else {
            document.getElementById('day').checked = true;
            document.getElementById('night').checked = false;
        }
    }

        
        // Fetch sheet data when the page loads
        window.onload = () => {
            fetchSheetData();
        };
        // Add event listeners to the form submission
let form = document.querySelector('#inspectionForm');
form.addEventListener('submit', (e) => {
    e.preventDefault();  // Prevent the form from submitting immediately

    // Convert all input data to uppercase
    const inputs = form.querySelectorAll('input[type="text"], input[type="number"], textarea, select');
    inputs.forEach(input => {
        if (input.value) {
            input.value = input.value.toUpperCase();
        }
    });

    document.querySelector("#sub").value = "Submitting.........";
    
    // Create FormData object and submit the form data
    let data = new FormData(form);
    fetch('https://script.google.com/macros/s/AKfycbyCxim6E9lm4v8bfX2ItlVA8IPQb1s1v4kTUqTjAqiAfGmtT2nhb243pPLXVCUl8cU/exec', {
        method: "POST",
        body: data
    })
    .then(res => res.text())
    .then(data => {
        document.querySelector("#sub").value = "Submit";
        form.reset();
        alert("Footplating Data Saved Successfully...");
    });
});

        </script>     
</body>
</html>